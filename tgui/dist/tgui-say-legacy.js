!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},t(e,n)}function n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,a=r(t);if(n){var l=r(this).constructor;i=Reflect.construct(a,arguments,l)}else i=a.apply(this,arguments);return function(t,n){if(n&&("object"===e(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return o(t)}(this,i)}}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(t,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(i=r.key,a=void 0,a=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,n||"default");if("object"!==e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(i,"string"),"symbol"===e(a)?a:String(a)),r)}var i,a}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}System.register(["./assets/renderer-legacy-xT3kNTm5.js"],(function(e,r){"use strict";var a,c,s,d,u,h;return{setters:[function(e){a=e.C,c=e.i,s=e.d,d=e.b,u=e.q,h=e.a}],execute:function(){var e=document.createElement("style");e.textContent='html,body{box-sizing:border-box;height:100%;margin:0;font-size:12px}html{overflow:hidden;cursor:default}body{overflow:auto;font-family:Verdana,Geneva,sans-serif}*,*:before,*:after{box-sizing:inherit}h1,h2,h3,h4,h5,h6{display:block;margin:0;padding:6px 0;padding:.5rem 0}h1{font-size:18px;font-size:1.5rem}h2{font-size:16px;font-size:1.333rem}h3{font-size:14px;font-size:1.167rem}h4{font-size:12px;font-size:1rem}td,th{vertical-align:baseline;text-align:left}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-baseline{text-align:baseline}.text-justify{text-align:justify}.text-nowrap{white-space:nowrap}.text-pre{white-space:pre}.text-bold{font-weight:700}.text-italic{font-style:italic}.text-underline{text-decoration:underline}.Input{position:relative;display:inline-block;width:10em;border:.0833333333em solid #88bfff;border:.0833333333em solid rgba(136,191,255,.75);border-radius:.16em;color:#fff;background-color:#0a0a0a;padding:0 .3333333333em;margin-right:.1666666667em;line-height:1.4166666667em;overflow:visible}.Input--fluid{display:block;width:auto}.Input__baseline{display:inline-block;color:transparent}.Input__input{display:block;position:absolute;top:0;bottom:0;left:0;right:0;border:0;outline:0;width:100%;font-size:1em;line-height:1.4166666667em;height:1.4166666667em;margin:0;padding:0 .5em;font-family:Verdana,sans-serif;background-color:transparent;color:#fff;color:inherit}.Input__input:-ms-input-placeholder{font-style:italic;color:#777;color:rgba(255,255,255,.45)}.Input--monospace .Input__input{font-family:Consolas,monospace}.TextArea{position:relative;display:inline-block;border:.0833333333em solid #88bfff;border:.0833333333em solid rgba(136,191,255,.75);border-radius:.16em;background-color:#0a0a0a;margin-right:.1666666667em;line-height:1.4166666667em;box-sizing:border-box;width:100%}.TextArea--fluid{display:block;width:auto;height:auto}.TextArea--noborder{border:0px}.TextArea__textarea.TextArea__textarea--scrollable{overflow:auto;overflow-x:hidden;overflow-y:scroll}.TextArea__textarea{display:block;position:absolute;top:0;bottom:0;left:0;right:0;border:0;outline:0;width:100%;height:100%;font-size:1em;line-height:1.4166666667em;min-height:1.4166666667em;margin:0;padding:0 .5em;font-family:inherit;background-color:transparent;color:inherit;box-sizing:border-box;word-wrap:break-word;overflow:hidden}.TextArea__textarea:-ms-input-placeholder{font-style:italic;color:#777;color:rgba(255,255,255,.45)}.TextArea__textarea_custom{overflow:visible;white-space:pre-wrap}.TextArea__nowrap{white-space:nowrap;overflow-wrap:normal;overflow-x:scroll}.button{align-items:center;background-color:#1f1f1f;border-radius:.3rem;border:thin solid;display:flex;flex-grow:1;font-family:inherit;font-size:.9rem;font-weight:700;justify-content:center;padding:0;width:2.6rem}.button:hover{background-color:#393939}.button-lightMode{background-color:#bbb;border:none;color:#000}.button-lightMode:hover{background-color:#eaeaea}.center{display:flex;flex:1 1 0;height:100%;width:100%}.input{display:flex;flex:1 1 0;height:100%;width:100%;font-family:Consolas,monospace}.dragzone-horizontal{border-left:.2rem solid;border-right:.2rem solid;color:transparent;width:100%;height:.6rem}.dragzone-left{border-left:.2rem solid}.dragzone-right{border-right:.2rem solid}.dragzone-vertical{color:transparent;height:100%;width:.6rem}.dragzone-top{border-top:.2rem solid}.dragzone-bottom{border-bottom:.2rem solid}.dragzone-lightMode{border-color:#bbb}.textarea{align-items:center;background:transparent;border:none;display:flex;flex-grow:4;font-family:inherit;font-size:1.1rem;overflow:hidden;margin:.1rem 0 0 .4rem}.window{background-color:#131313;display:flex;flex-direction:column;max-width:231px;height:100%;width:100%;overflow:hidden}.window-lightMode{background-color:#fff}.window-30{height:30px}.window-50{height:50px}.window-70{height:70px}@keyframes gradient{0%{background-position:0 0}to{background-position:100% 0}}.button-Admin{border-color:#f8f;color:#fbf}.button-Admin:hover{border-color:#fef;color:#ffd5ff}.dragzone-Admin{border-color:#f5f}.textarea-Admin{color:#fbf}.window-Admin:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#ff09ff,#ffbbff,#ffeeff,#ffbbff,#ff09ff);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-AI{border-color:#cc347a;color:#d65d95}.button-AI:hover{border-color:#e086b0;color:#db71a2}.dragzone-AI{border-color:#a42962}.textarea-AI{color:#d65d95}.window-AI:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#671a3d,#d65d95,#e086b0,#d65d95,#671a3d);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-CCom{border-color:#1c617c;color:#2681a5}.button-CCom:hover{border-color:#30a1ce;color:#2b91ba}.dragzone-CCom{border-color:#134052}.textarea-CCom{color:#2681a5}.window-CCom:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#051014,#2681a5,#30a1ce,#2681a5,#051014);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Cmd{border-color:#cab202;color:#fcdf03}.button-Cmd:hover{border-color:#fde535;color:#fce21c}.dragzone-Cmd{border-color:#978602}.textarea-Cmd{color:#fcdf03}.window-Cmd:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#4c4301,#fcdf03,#fde535,#fcdf03,#4c4301);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Engi{border-color:#f05416;color:#f37746}.button-Engi:hover{border-color:#f69a76;color:#f5895e}.dragzone-Engi{border-color:#c6410d}.textarea-Engi{color:#f37746}.window-Engi:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#7e2a08,#f37746,#f69a76,#f37746,#7e2a08);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Hive{border-color:#674867;color:#855d85}.button-Hive:hover{border-color:#9f769f;color:#946794}.dragzone-Hive{border-color:#493349}.textarea-Hive{color:#855d85}.window-Hive:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#1c141c,#855d85,#9f769f,#855d85,#1c141c);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-io{border-color:#0077ea;color:#1e90ff}.button-io:hover{border-color:#51a9ff;color:#389dff}.dragzone-io{border-color:#005db7}.textarea-io{color:#1e90ff}.window-io:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#00366b,#1e90ff,#51a9ff,#1e90ff,#00366b);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Me{border-color:#2f52d1;color:#5975da}.button-Me:hover{border-color:#8398e3;color:#6e86df}.dragzone-Me{border-color:#2542a8}.textarea-Me{color:#5975da}.window-Me:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#172969,#5975da,#8398e3,#5975da,#172969);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Med{border-color:#28a4ec;color:#57b8f0}.button-Med:hover{border-color:#86ccf4;color:#6ec2f2}.dragzone-Med{border-color:#128acf}.textarea-Med{color:#57b8f0}.window-Med:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#0c5b88,#57b8f0,#86ccf4,#57b8f0,#0c5b88);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-OOC{border-color:#997a00;color:#cca300}.button-OOC:hover{border-color:#fc0;color:#e6b700}.dragzone-OOC{border-color:#665200}.textarea-OOC{color:#cca300}.window-OOC:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#1a1400,#cca300,#ffcc00,#cca300,#1a1400);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Radio{border-color:#17a034;color:#1ecc43}.button-Radio:hover{border-color:#3be25e;color:#25df4c}.dragzone-Radio{border-color:#117326}.textarea-Radio{color:#1ecc43}.window-Radio:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#073010,#1ecc43,#3be25e,#1ecc43,#073010);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Say{border-color:#819fc6;color:#a4bad6}.button-Say:hover{border-color:#c7d5e6;color:#b6c7de}.dragzone-Say{border-color:#5e85b6}.textarea-Say{color:#a4bad6}.window-Say:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#3e5f8a,#a4bad6,#c7d5e6,#a4bad6,#3e5f8a);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Sci{border-color:#ae5bf8;color:#c68cfa}.button-Sci:hover{border-color:#debdfc;color:#d2a4fb}.dragzone-Sci{border-color:#962af6}.textarea-Sci{color:#c68cfa}.window-Sci:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#6f09cb,#c68cfa,#debdfc,#c68cfa,#6f09cb);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Sec{border-color:#bf2020;color:#dd3535}.button-Sec:hover{border-color:#e46161;color:#e14b4b}.dragzone-Sec{border-color:#931919}.textarea-Sec{color:#dd3535}.window-Sec:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#520e0e,#dd3535,#e46161,#dd3535,#520e0e);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Supp{border-color:#936b38;color:#b88646}.button-Supp:hover{border-color:#c79e6a;color:#bf9258}.dragzone-Supp{border-color:#6e502a}.textarea-Supp{color:#b88646}.window-Supp:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#372815,#b88646,#c79e6a,#b88646,#372815);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Svc{border-color:#527e1f;color:#6ca729}.button-Svc:hover{border-color:#86ce35;color:#79bb2e}.dragzone-Svc{border-color:#375515}.textarea-Svc{color:#6ca729}.window-Svc:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#0f1806,#6ca729,#86ce35,#6ca729,#0f1806);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}.button-Synd{border-color:#6d3939;color:#8f4a4b}.button-Synd:hover{border-color:#ac6061;color:#a05354}.dragzone-Synd{border-color:#4c2728}.textarea-Synd{color:#8f4a4b}.window-Synd:after{animation:gradient 10s linear infinite;background:linear-gradient(to right,#190d0d,#8f4a4b,#ac6061,#8f4a4b,#190d0d);background-position:0% 0%;background-size:500% auto;bottom:0;content:"";height:2px;left:0;position:absolute;right:0;z-index:999}\n',document.head.appendChild(e);
/**
       * @file
       * @copyright 2020 Aleksej Komarov
       * @license MIT
       */
var r,f,b,g,p=function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var l=o&&!n;clearTimeout(n),n=setTimeout((function(){n=null,o||e.apply(void 0,i)}),t),l&&e.apply(void 0,i)}},m=function(){function e(){i(this,e),this.index=0,this.channels=["Say","Radio","Me","OOC","Admin"],this.blacklist=["Admin"],this.quiet=["OOC","Admin"]}return l(e,[{key:"next",value:function(){if(this.blacklist.includes(this.channels[this.index]))return this.channels[this.index];for(var e=1;e<=this.channels.length;e++){var t=(this.index+e)%this.channels.length;if(!this.blacklist.includes(this.channels[t])){this.index=t;break}}return this.channels[this.index]}},{key:"set",value:function(e){this.index=this.channels.indexOf(e)||0}},{key:"current",value:function(){return this.channels[this.index]}},{key:"isSay",value:function(){return"Say"===this.channels[this.index]}},{key:"isVisible",value:function(){return!this.quiet.includes(this.channels[this.index])}},{key:"reset",value:function(){this.index=0}}]),e}(),y=function(){function e(){i(this,e),this.messages=[],this.index=-1,this.temp=null}return l(e,[{key:"add",value:function(e){this.messages.unshift(e),this.index=-1,this.messages.length>5&&this.messages.pop()}},{key:"getIndex",value:function(){return this.index+1}},{key:"getOlderMessage",value:function(){return 0===this.messages.length||this.index>=this.messages.length-1?null:(this.index++,this.messages[this.index])}},{key:"getNewerMessage",value:function(){return this.index<=0?(this.index=-1,null):(this.index--,this.messages[this.index])}},{key:"isAtLatest",value:function(){return-1===this.index}},{key:"saveTemp",value:function(e){this.temp=e}},{key:"getTemp",value:function(){var e=this.temp;return this.temp=null,e}},{key:"reset",value:function(){this.index=-1,this.temp=null}}]),e}(),v=function(e){return e[e.small=30]="small",e[e.medium=50]="medium",e[e.large=70]="large",e[e.width=231]="width",e}(v||{}),x=function(e){return e[e.small=22]="small",e[e.medium=45]="medium",e}(x||{}),w={":a ":"Hive",":b ":"io",":c ":"Cmd",":e ":"Engi",":m ":"Med",":n ":"Sci",":o ":"AI",":s ":"Sec",":t ":"Synd",":u ":"Supp",":v ":"Svc",":y ":"CCom"},k={channelIncrementMsg:p((function(e){return Byond.sendMessage("thinking",{visible:e})}),400),forceSayMsg:p((function(e){return Byond.sendMessage("force",{entry:e,channel:"Say"})}),1e3,!0),typingMsg:(r=function(){return Byond.sendMessage("typing")},f=4e3,function e(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i,a=Date.now();g&&clearTimeout(g),!b||a-b>=f?(r.apply(null,n),b=a):g=setTimeout((function(){return e.apply(void 0,n)}),f-(a-(null!==(i=b)&&void 0!==i?i:0)))})},z=function(e){Byond.winset("tgui_say",{"is-visible":e,size:"".concat(v.width,"x").concat(v.small)})},S=function(e){return e.Alt="Alt",e.Backspace="Backspace",e.Control="Control",e.Delete="Delete",e.Down="Down",e.End="End",e.Enter="Enter",e.Escape="Esc",e.Home="Home",e.Insert="Insert",e.Left="Left",e.PageDown="PageDown",e.PageUp="PageUp",e.Right="Right",e.Shift="Shift",e.Space=" ",e.Tab="Tab",e.Up="Up",e}(S||{}),C=/^:\w\s/,I=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&t(e,n)}(a,e);var r=n(a);function a(e){var t;return i(this,a),(t=r.call(this,e)).handleOpen=function(e){setTimeout((function(){var e;null===(e=t.innerRef.current)||void 0===e||e.focus()}),0);var n=e.channel;t.channelIterator.isSay()&&t.channelIterator.set(n),t.setState({buttonContent:t.channelIterator.current()}),function(e){z(!0),Byond.sendMessage("open",{channel:e})}(t.channelIterator.current())},t.handleProps=function(e){var n=e.maxLength,o=e.lightMode;t.maxLength=n,t.lightMode=!!o},t.channelIterator=new m,t.chatHistory=new y,t.currentPrefix=null,t.innerRef=c(),t.lightMode=!1,t.maxLength=1024,t.messages=k,t.state={buttonContent:"",size:v.small},t.handleArrowKeys=t.handleArrowKeys.bind(o(t)),t.handleBackspaceDelete=t.handleBackspaceDelete.bind(o(t)),t.handleClose=t.handleClose.bind(o(t)),t.handleEnter=t.handleEnter.bind(o(t)),t.handleForceSay=t.handleForceSay.bind(o(t)),t.handleIncrementChannel=t.handleIncrementChannel.bind(o(t)),t.handleInput=t.handleInput.bind(o(t)),t.handleKeyDown=t.handleKeyDown.bind(o(t)),t.handleOpen=t.handleOpen.bind(o(t)),t.handleProps=t.handleProps.bind(o(t)),t.reset=t.reset.bind(o(t)),t.setSize=t.setSize.bind(o(t)),t.setValue=t.setValue.bind(o(t)),t}return l(a,[{key:"componentDidMount",value:function(){Byond.subscribeTo("props",this.handleProps),Byond.subscribeTo("force",this.handleForceSay),Byond.subscribeTo("open",this.handleOpen)}},{key:"handleArrowKeys",value:function(e){var t,n=null===(t=this.innerRef.current)||void 0===t?void 0:t.value;if(e===S.Up){this.chatHistory.isAtLatest()&&n&&this.chatHistory.saveTemp(n);var o=this.chatHistory.getOlderMessage();o&&(this.setState({buttonContent:this.chatHistory.getIndex()}),this.setSize(o.length),this.setValue(o))}else{var r=this.chatHistory.getNewerMessage()||this.chatHistory.getTemp()||"",i=this.chatHistory.isAtLatest()?this.channelIterator.current():this.chatHistory.getIndex();this.setState({buttonContent:i}),this.setSize(r.length),this.setValue(r)}}},{key:"handleBackspaceDelete",value:function(){var e,t,n=null===(e=this.innerRef.current)||void 0===e?void 0:e.value;this.chatHistory.isAtLatest()?this.currentPrefix&&this.channelIterator.isSay()&&0===(null==n?void 0:n.length)&&(this.currentPrefix=null,this.setState({buttonContent:this.channelIterator.current()})):(this.chatHistory.reset(),this.setState({buttonContent:null!==(t=this.currentPrefix)&&void 0!==t?t:this.channelIterator.current()}));this.setSize(null==n?void 0:n.length)}},{key:"handleClose",value:function(){var e=this.innerRef.current;e&&e.blur(),this.reset(),this.chatHistory.reset(),this.channelIterator.reset(),this.currentPrefix=null,z(!1),Byond.winset("map",{focus:!0}),Byond.sendMessage("close")}},{key:"handleEnter",value:function(){var e,t,n=null!==(e=this.currentPrefix)&&void 0!==e?e:"",o=null===(t=this.innerRef.current)||void 0===t?void 0:t.value;null!=o&&o.length&&o.length<this.maxLength&&(this.chatHistory.add(o),Byond.sendMessage("entry",{channel:this.channelIterator.current(),entry:this.channelIterator.isSay()?n+o:o})),this.handleClose()}},{key:"handleForceSay",value:function(){var e,t,n=null===(e=this.innerRef.current)||void 0===e?void 0:e.value;if(n&&this.channelIterator.isVisible()){var o=null!==(t=this.currentPrefix)&&void 0!==t?t:"",r=this.channelIterator.isSay()?o+n:n;this.messages.forceSayMsg(r),this.reset()}}},{key:"handleIncrementChannel",value:function(){this.channelIterator.isSay()&&":b "===this.currentPrefix&&this.messages.channelIncrementMsg(!0),this.currentPrefix=null,this.channelIterator.next(),this.channelIterator.isVisible()||this.messages.channelIncrementMsg(!1),this.setState({buttonContent:this.channelIterator.current()})}},{key:"handleInput",value:function(){var e,t,n=null===(e=this.innerRef.current)||void 0===e?void 0:e.value;if(this.channelIterator.isVisible()&&":b "!==this.currentPrefix&&this.messages.typingMsg(),this.setSize(null==n?void 0:n.length),n&&!(n.length<3)&&C.test(n)){var o=null===(t=n.slice(0,3))||void 0===t?void 0:t.toLowerCase();w[o]&&o!==this.currentPrefix&&(":b "===o&&Byond.sendMessage("thinking",{visible:!1}),this.channelIterator.set("Say"),this.currentPrefix=o,this.setState({buttonContent:w[o]}),this.setValue(n.slice(3)))}}},{key:"handleKeyDown",value:function(e){switch(e.key){case S.Up:case S.Down:e.preventDefault(),this.handleArrowKeys(e.key);break;case S.Delete:case S.Backspace:this.handleBackspaceDelete();break;case S.Enter:e.preventDefault(),this.handleEnter();break;case S.Tab:e.preventDefault(),this.handleIncrementChannel();break;case S.Escape:this.handleClose()}}},{key:"reset",value:function(){this.setValue(""),this.setSize(),this.setState({buttonContent:this.channelIterator.current()})}},{key:"setSize",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e=t>x.medium?v.large:t<=x.medium&&t>x.small?v.medium:v.small,this.state.size!==e&&(this.setState({size:e}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.small,t="".concat(v.width,"x").concat(e);Byond.winset("tgui_say.browser",{size:t}),Byond.winset("tgui_say",{size:t})}(e))}},{key:"setValue",value:function(e){var t=this.innerRef.current;t&&(t.value=e)}},{key:"render",value:function(){var e=(this.lightMode?"lightMode":this.currentPrefix&&w[this.currentPrefix])||this.channelIterator.current();return s(1,"div","window window-".concat(e," window-").concat(this.state.size),[d(2,M,{position:"top",theme:e}),s(1,"div","center",[d(2,M,{position:"left",theme:e}),s(1,"div","input",[s(1,"button","button button-".concat(e),this.state.buttonContent,0,{onClick:this.handleIncrementChannel,type:"button"}),s(128,"textarea","textarea textarea-".concat(e),null,1,{maxLength:this.maxLength,onInput:this.handleInput,onKeyDown:this.handleKeyDown},null,this.innerRef)],8),d(2,M,{position:"right",theme:e})],8),d(2,M,{position:"bottom",theme:e})],8)}}]),a}(a),M=function(e){var t=e.theme,n=e.position;return s(1,"div","dragzone-".concat("left"===n||"right"===n?"vertical":"horizontal"," dragzone-").concat(n," dragzone-").concat(t),null,1,{onmousedown:u})},O=h((function(){return d(2,I)}));!function e(){"loading"!==document.readyState?O():document.addEventListener("DOMContentLoaded",e)}()}}}))}();
